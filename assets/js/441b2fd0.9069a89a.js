"use strict";(self.webpackChunksi_mm_mulator_website=self.webpackChunksi_mm_mulator_website||[]).push([[974],{3905:(e,n,t)=>{t.d(n,{Zo:()=>d,kt:()=>m});var a=t(7294);function r(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function s(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function _(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?s(Object(t),!0).forEach((function(n){r(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):s(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function o(e,n){if(null==e)return{};var t,a,r=function(e,n){if(null==e)return{};var t,a,r={},s=Object.keys(e);for(a=0;a<s.length;a++)t=s[a],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,n);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)t=s[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var i=a.createContext({}),p=function(e){var n=a.useContext(i),t=n;return e&&(t="function"==typeof e?e(n):_(_({},n),e)),t},d=function(e){var n=p(e.components);return a.createElement(i.Provider,{value:n},e.children)},l="mdxType",c={inlineCode:"code",wrapper:function(e){var n=e.children;return a.createElement(a.Fragment,{},n)}},f=a.forwardRef((function(e,n){var t=e.components,r=e.mdxType,s=e.originalType,i=e.parentName,d=o(e,["components","mdxType","originalType","parentName"]),l=p(t),f=r,m=l["".concat(i,".").concat(f)]||l[f]||c[f]||s;return t?a.createElement(m,_(_({ref:n},d),{},{components:t})):a.createElement(m,_({ref:n},d))}));function m(e,n){var t=arguments,r=n&&n.mdxType;if("string"==typeof e||r){var s=t.length,_=new Array(s);_[0]=f;var o={};for(var i in n)hasOwnProperty.call(n,i)&&(o[i]=n[i]);o.originalType=e,o[l]="string"==typeof e?e:r,_[1]=o;for(var p=2;p<s;p++)_[p]=t[p];return a.createElement.apply(null,_)}return a.createElement.apply(null,t)}f.displayName="MDXCreateElement"},8578:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>i,contentTitle:()=>_,default:()=>l,frontMatter:()=>s,metadata:()=>o,toc:()=>p});var a=t(7462),r=(t(7294),t(3905));const s={},_="Demo Code",o={unversionedId:"demo_code",id:"demo_code",title:"Demo Code",description:"This is example code that users can quickly run for siMMMulator.",source:"@site/docs/demo_code.md",sourceDirName:".",slug:"/demo_code",permalink:"/siMMMulator/docs/demo_code",draft:!1,editUrl:"https://github.com/facebookexperimental/siMMMulator/tree/gh-pages/docs/demo_code.md",tags:[],version:"current",frontMatter:{},sidebar:"mySidebar",previous:{title:"Step-by-Step Guide",permalink:"/siMMMulator/docs/step_by_step_guide"},next:{title:"FAQ and Support",permalink:"/siMMMulator/docs/FAQ and Support"}},i={},p=[],d={toc:p};function l(e){let{components:n,...t}=e;return(0,r.kt)("wrapper",(0,a.Z)({},d,t,{components:n,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"demo-code"},"Demo Code"),(0,r.kt)("p",null,"This is example code that users can quickly run for siMMMulator."),(0,r.kt)("p",null,"Run this code after you have followed the instructions in the ",(0,r.kt)("a",{parentName:"p",href:"/siMMMulator/docs/set_up"},"Setting up siMMMulator page"),"."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'my_variables <- step_0_define_basic_parameters(years = 2,\n                                               channels_impressions = c("Facebook", "TV"),\n                                               channels_clicks = c("Search"),\n                                               frequency_of_campaigns = 1,\n                                               true_cvr = c(0.001, 0.002, 0.003),\n                                               revenue_per_conv = 1, \n                                               start_date = "2017/1/1"\n)\n\ndf_baseline <- step_1_create_baseline(\n                       my_variables = my_variables,        \n                       base_p = 10000,\n                       trend_p = 0.5,\n                       temp_var = 2,\n                       temp_coef_mean = 100,\n                       temp_coef_sd = 500,\n                       error_std = 100)\n\ndf_ads_step2 <- step_2_ads_spend(\n  my_variables = my_variables,  \n  campaign_spend_mean = 329000,\n  campaign_spend_std = 100000,\n  max_min_proportion_on_each_channel <- c(0.45, 0.55, # for first channel, Facebook\n                                          0.1, 0.15)  # for second channel, TV.                                                         )\n)\n# The third channel, Search, will receive what is left. \n\ndf_ads_step3 <- step_3_generate_media(\n  my_variables = my_variables,\n  df_ads_step2 = df_ads_step2,\n  true_cpm = c(2, 20, NA),\n  true_cpc = c(NA, NA, 0.25),\n  mean_noisy_cpm_cpc = c(1, 0.05, 0.01),\n  std_noisy_cpm_cpc = c(0.01, 0.15, 0.01)\n)\n\ndf_ads_step4 <- step_4_generate_cvr(\n  my_variables = my_variables,\n  df_ads_step3 = df_ads_step3,\n  mean_noisy_cvr = c(0, 0.0001, 0.0002), \n  std_noisy_cvr = c(0.001, 0.002, 0.003)\n  )\n\ndf_ads_step5a_before_mmm <- step_5a_pivot_to_mmm_format(my_variables = my_variables,\n                                                        df_ads_step4 = df_ads_step4)\n\ndf_ads_step5b <- step_5b_decay(\n  my_variables = my_variables,\n  df_ads_step5a_before_mmm = df_ads_step5a_before_mmm,\n  true_lambda_decay = c(0.1, 0.2, 0.3)\n)\n\ndf_ads_step5c <- step_5c_diminishing_returns(\n  my_variables = my_variables,\n  df_ads_step5b = df_ads_step5b,\n  alpha_saturation = c(2, 2, 2),\n  gamma_saturation = c(0.1, 0.2, 0.3)\n)\n\ndf_ads_step6 <- step_6_calculating_conversions(\n  my_variables = my_variables,\n  df_ads_step5c = df_ads_step5c\n)\n\ndf_ads_step7 <- step_7_expanded_df(\n  my_variables = my_variables,\n  df_ads_step6 = df_ads_step6,\n  df_baseline = df_baseline\n)\n\nstep_8_calculate_roi( \n  my_variables = my_variables,\n  df_ads_step7 = df_ads_step7\n)\n\nlist_of_df_final <- step_9_final_df(\n  my_variables = my_variables,\n  df_ads_step7 = df_ads_step7\n)\n\noptional_step_1.5_plot_baseline_sales(df_baseline = df_baseline)\n\noptional_step_2.5_plot_ad_spend(df_ads_step2 = df_ads_step2)\n\noptional_step_9.5_plot_final_df(df_final = list_of_df_final[[1]]) # for daily data\noptional_step_9.5_plot_final_df(df_final = list_of_df_final[[2]]) # for monthly data\n\n')),(0,r.kt)("p",null,"This code is for illustration purposes only. Individual results may vary."))}l.isMDXComponent=!0}}]);