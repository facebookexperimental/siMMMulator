<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-step_by_step_guide">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.2.0">
<title data-rh="true">Step-by-Step Guide | siMMMulator</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://facebookexperimental.github.io/siMMMulator/docs/step_by_step_guide"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Step-by-Step Guide | siMMMulator"><meta data-rh="true" name="description" content="siMMMulator generates a data set using 10 steps. Each step is a function and users must run all steps to get a completed data set."><meta data-rh="true" property="og:description" content="siMMMulator generates a data set using 10 steps. Each step is a function and users must run all steps to get a completed data set."><link data-rh="true" rel="icon" href="/siMMMulator/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://facebookexperimental.github.io/siMMMulator/docs/step_by_step_guide"><link data-rh="true" rel="alternate" href="https://facebookexperimental.github.io/siMMMulator/docs/step_by_step_guide" hreflang="en"><link data-rh="true" rel="alternate" href="https://facebookexperimental.github.io/siMMMulator/docs/step_by_step_guide" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/siMMMulator/blog/rss.xml" title="siMMMulator RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/siMMMulator/blog/atom.xml" title="siMMMulator Atom Feed"><link rel="stylesheet" href="/siMMMulator/assets/css/styles.941e1441.css">
<link rel="preload" href="/siMMMulator/assets/js/runtime~main.b831d095.js" as="script">
<link rel="preload" href="/siMMMulator/assets/js/main.2a3aab12.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/siMMMulator/"><div class="navbar__logo"><img src="/siMMMulator/img/siMMMulator_logo.png" alt="siMMMulator Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/siMMMulator/img/siMMMulator_logo.png" alt="siMMMulator Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">siMMMulator</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/siMMMulator/docs/about_simmmulator">About SiMMMulator</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/siMMMulator/docs/set_up">Using siMMMulator</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/siMMMulator/docs/FAQ and Support">FAQ and Support</a></div><div class="navbar__items navbar__items--right"><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd"><nav class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/siMMMulator/docs/about_simmmulator">About siMMMulator</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/siMMMulator/docs/set_up">Using siMMMulator</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/siMMMulator/docs/set_up">Setting Up siMMMulator</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/siMMMulator/docs/step_by_step_guide">Step-by-Step Guide</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/siMMMulator/docs/demo_code">Demo Code</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="true" href="/siMMMulator/docs/FAQ and Support">FAQ and Support</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/siMMMulator/docs/FAQ and Support">FAQ and Support</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a href="https://www.facebook.com/groups/1709945532706010/" target="_blank" rel="noopener noreferrer" class="menu__link menuExternalLink_NmtK" tabindex="0">Facebook Group<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a href="https://github.com/facebookexperimental/siMMMulator" target="_blank" rel="noopener noreferrer" class="menu__link menuExternalLink_NmtK" tabindex="0">Github<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></li></ul></nav></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/siMMMulator/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_OVgt"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Using siMMMulator</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Step-by-Step Guide</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Step-by-Step Guide</h1><p>siMMMulator generates a data set using 10 steps. Each step is a function and users must run all steps to get a completed data set.</p><p>This is a detailed step-by-step users&#x27; guide. Make sure you&#x27;ve already followed the instructions in the <a href="/siMMMulator/docs/set_up">Setting up siMMMulator page</a>. To see just examples of functions to run, see the <a href="/siMMMulator/docs/demo_code">Demo Script</a>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="step-0--define-basic-parameters">Step 0 : Define Basic Parameters<a class="hash-link" href="#step-0--define-basic-parameters" title="Direct link to heading">​</a></h2><p>First, provide some basic inputs that will be used to generate data. This step exists so that you don&#x27;t have to keep inputting the same info.</p><p><strong>Example:</strong></p><p>Replace the parameter values with ones that you want.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">my_variables &lt;- step_0_define_basic_parameters(years = 2,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                                               channels_impressions = c(&quot;Facebook&quot;, &quot;TV&quot;),</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                                               channels_clicks = c(&quot;Search&quot;),</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                                               frequency_of_campaigns = 1,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                                               true_cvr = c(0.001, 0.002, 0.003),</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                                               revenue_per_conv = 1, </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                                               start_date = &quot;2017/1/1&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>This code is for illustration purposes only. Individual results may vary.</p><p><strong>Parameters Required in Function:</strong></p><table><thead><tr><th>Parameter</th><th>Description</th><th>Default value if none provided</th></tr></thead><tbody><tr><td>years</td><td>A number, number of years you want to generate data for. Must be a whole number and equal to or greater than 1.</td><td>5</td></tr><tr><td>channels_impressions</td><td>A vector of character strings, names of media channels that use impressions as their metric of activity (Examples: Facebook, TV, Long-Form Video), must be in vector format with strings. Do not provide if not applicable to you.</td><td>No default provided.</td></tr><tr><td>channels_clicks</td><td>A vector of character strings, names of media channels that use clicks as their metric of activity (Examples: Search), must be in vector format with strings. Do not provide if not applicable to you.</td><td>No default provided.</td></tr><tr><td>frequency_of_campaigns</td><td>A number, how often campaigns occur (for example, frequency of 2 would yield a new campaign every 2 weeks with each campaign lasting 2 weeks). Must be a whole number greater than or equal to 1.</td><td>1</td></tr><tr><td>true_cvr</td><td>A vector of numbers, what the underlying conversion rates of all the channels are, statistical noise will be added on top of this, should be a vector of numbers between 0 and 1 in the SAME order as how channels were specified (channels that use impressions first, followed by channels that use clicks), must have same length as number of channels</td><td>No default provided.</td></tr><tr><td>revenue_per_conv</td><td>A number, How much money we make from a conversion (i.e. profit from a unit of sale). Must be a number greater than 0.</td><td>No default provided.</td></tr><tr><td>start_date</td><td>A string in the format yyyy/mm/dd that determines when your daily data set starts on.</td><td>2017/1/1</td></tr></tbody></table><p><strong>Tips on Picking Parameters:</strong></p><ul><li><em>How many years to generate data for?</em> To get robust results on most MMMs, you should have a minimum of 2 years. However, since data availability is not an issue here, we recommend having 4 to 5 years of data for the model to have more data points to train on. See <a href="https://facebookexperimental.github.io/Robyn/docs/analysts-guide-to-MMM/" target="_blank" rel="noopener noreferrer">Analysts Guide to MMM</a> for more info.</li><li><em>Which channels use impressions and which channels use clicks?</em> As taken directly from Robyn&#x27;s <a href="https://facebookexperimental.github.io/Robyn/docs/analysts-guide-to-MMM" target="_blank" rel="noopener noreferrer">Analysts Guide to MMM</a>:<blockquote><ul><li>For digital activity, one metric that is used is  impressions. Avoid using clicks, as clicks do not account for view through conversions, and it is just as likely that someone can view an ad and convert.</li><li>For TV and radio, most commonly used metrics are Gross Rating Points (GRPs) or Target Audience Rating Points (TARPs). NOTE: <code>siMMMulator</code> does not have this built in for TV yet and so marketers that use TV should use impressions.</li><li>Aim to use impressions when the channel does not have a more granular metric for activity.</li></ul></blockquote></li><li><em>How do I know the true CVRs of each advertising channel?</em> You can use your historical knowledge of how your previous campaigns on these channels have done as a starting point. However, one advantage of <code>siMMMulator</code> is that you can play around with these numbers and see how different MMMs react based on this number.</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="step-1--simulate-daily-baseline-sales">Step 1 : Simulate Daily Baseline Sales<a class="hash-link" href="#step-1--simulate-daily-baseline-sales" title="Direct link to heading">​</a></h2><p>Now we start by generating baseline sales (sales not due to ad spend). As you see, there are numerous examples below that you can generate, depending on the inputs you provide.</p><p>Daily baseline sales will be simulated and aggregated at the end to get weekly sales.</p><p><strong>Examples:</strong></p><p>Replace the parameter values with ones that you want.</p><p><em>Example 1a:</em></p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">df_baseline &lt;- step_1_create_baseline(</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                        my_variables = my_variables,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                        base_p = 500000,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                        trend_p = 1.8,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                        temp_var = 8,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                        temp_coef_mean = 50000,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                        temp_coef_sd = 5000,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                        error_std = 100000)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>This code is for illustration purposes only. Individual results may vary.</p><p><img loading="lazy" alt="Example 1 of Baseline" src="/siMMMulator/assets/images/step1_ex1-249ef6067efebc34a17f61a9bdd3ae4c.png" width="840" height="840" class="img_ev3q">
This graph is for illustration purposes only. Individual results may vary.</p><p><em>Example 2b:</em></p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">df_baseline &lt;- step_1_create_baseline(</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                        my_variables = my_variables,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                        base_p = 500000,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                        trend_p = 3,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                        temp_var = 8,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                        temp_coef_mean = 5000,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                        temp_coef_sd = 1000,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                        error_std = 100000)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>This code is for illustration purposes only. Individual results may vary.</p><p><img loading="lazy" alt="Example 2 of Baseline" src="/siMMMulator/assets/images/step1_ex2-b16b21b7ff9cf11acbd80f9a9b2decff.png" width="840" height="840" class="img_ev3q">
This graph is for illustration purposes only. Individual results may vary.</p><p><strong>Parameters Required in Function:</strong></p><table><thead><tr><th>Parameter</th><th>Description</th><th>Default value if none provided</th></tr></thead><tbody><tr><td>my_variables</td><td>A list that was created after running step 0. It stores the inputs you&#x27;ve specified.</td><td>my_variables</td></tr><tr><td>base_p</td><td>A number, Amount of baseline sales we get in a week (sales not due to ads)</td><td>No default provided.</td></tr><tr><td>trend_p</td><td>A number, How much baseline sales is going to grow over the whole period of our data.</td><td>2</td></tr><tr><td>temp_var</td><td>A number, How big the height of the sine function is for temperature -- i.e. how much temperature varies (used to inject seasonality into our data)</td><td>8</td></tr><tr><td>temp_coef_mean</td><td>A number, The average of how important seasonality is in our data (bigger this number, the more important seasonality is for sales)</td><td>50000</td></tr><tr><td>temp_coef_sd</td><td>A number, The standard deviation of how important seasonality is in our data (bigger this number, the more variable the importance of seasonality is for sales)</td><td>5000</td></tr><tr><td>error_std</td><td>A number, Amount of statistical noise added to baseline sales (bigger this number, the noiser baseline sales will be)</td><td>100000</td></tr></tbody></table><p><strong>Tips on Picking Parameters:</strong></p><ul><li><em>How to select <code>base_p</code> and <code>trend_p</code>?</em>: To reflect your business scenario, you can look at your own business&#x27;s historical data or more aggregate data on the growth of your industry over time. You can play with this number to generate a variety of data sets and see how MMMs react to changes in <code>base_p</code> and <code>trend_p</code>.</li><li><em>How can I pick a <code>temp_coef_mean</code>?</em>: Play around with this and the other variables. The larger this number is, the more seasonality will have an impact on your data.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="optional-step-15--plot-graph-of-baseline-sales">(Optional) Step 1.5 : Plot Graph of Baseline Sales<a class="hash-link" href="#optional-step-15--plot-graph-of-baseline-sales" title="Direct link to heading">​</a></h3><p>You can use this function to help you plot your simulated baseline sales from step 1. You will get the plots shown above in the examples for Step 1. Be sure you have ggplot2 installed.</p><p><strong>Example:</strong></p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">optional_step_1.5_plot_baseline_sales(df_baseline = df_baseline)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>This code is for illustration purposes only. Individual results may vary.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="step-2--generate-ad-spend">Step 2 : Generate Ad Spend<a class="hash-link" href="#step-2--generate-ad-spend" title="Direct link to heading">​</a></h2><p>Now we simulate how much to spend on campaigns and on channels. You&#x27;ll input in a mean (average) and standard deviation of spend for each campaign, and then provide percentages for how much of that campaign spend you&#x27;d put towards each channel. You could pick these based on how you&#x27;ve historically spent on your business.</p><p><strong>Examples:</strong></p><p>The following are various examples that you could generate.</p><p><em>Example 2a:</em></p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">df_ads_step2 &lt;- step_2_ads_spend(</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                    my_variables = my_variables,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                    campaign_spend_mean = 329000,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                    campaign_spend_std = 100000,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                    max_min_proportion_on_each_channel &lt;- c(0.45, 0.55,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                                                            0.15, 0.25,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                                                            0.1, 0.2)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                )</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>This code is for illustration purposes only. Individual results may vary.</p><p><img loading="lazy" alt="Example 1 of Ad Spend" src="/siMMMulator/assets/images/step2_ex1-85be0d0de588275ae420fe2b40017106.png" width="840" height="840" class="img_ev3q">
This graph is for illustration purposes only. Individual results may vary.</p><p><em>Example 2b:</em></p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">df_ads_step2 &lt;- step_2_ads_spend(</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                    my_variables = my_variables,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                    campaign_spend_mean = 329000,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                    campaign_spend_std = 100000,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                    max_min_proportion_on_each_channel &lt;- c(0.15, 0.20,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                                                            0.10, 0.15,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                                                            0.05, 0.20)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                )</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>This code is for illustration purposes only. Individual results may vary.</p><p><img loading="lazy" alt="Example 2 of Ad Spend" src="/siMMMulator/assets/images/step2_ex2-4102b3843cbd4f1ce53428ff59c72017.png" width="840" height="840" class="img_ev3q">
This graph is for illustration purposes only. Individual results may vary.</p><p><strong>Parameters Required in Function:</strong></p><table><thead><tr><th>Parameter</th><th>Description</th><th>Default value if none provided</th></tr></thead><tbody><tr><td>my_variables</td><td>A list that was created after running step 0. It stores the inputs you&#x27;ve specified.</td><td>my_variables</td></tr><tr><td>campaign_spend_mean</td><td>A numeric, the average amount of money spent on a campaign, must be in same currency as baseline sales generated in step 1</td><td>No default provided.</td></tr><tr><td>campaign_spend_std</td><td>A numeric, the standard deviation of money spent on a campaign, must be in same currency as baseline sales generated in step 1</td><td>No default provided.</td></tr><tr><td>max_min_proportion_on_each_channel</td><td>A vector of numerics specifying the minimum and maximum percentages of total spend allocated to each channel, should be in the same order as channels specified (channels that use impressions first followed by channels that use clicks), length should be 2 times (number of total channels - 1)</td><td>No default provided.</td></tr></tbody></table><p><em>Clarification for selecting <code>max_min_proportion_on_each_channel</code></em>: This indicates how much of total campaign spend is spent on each channel. For example <code>c(0.45, 0.55, 0.15, 0.25)</code> means that between 45% and 55% of each campaign spend will be spent on channel 1, between 15% and 25% will be spent on channel 2, and the remaining spend leftover will be allocated towards channel 3.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="optional-step-25--plot-graph-of-ad-spend">(Optional) Step 2.5 : Plot Graph of Ad Spend<a class="hash-link" href="#optional-step-25--plot-graph-of-ad-spend" title="Direct link to heading">​</a></h3><p>This function plots ad spend simulated from step 2. You will get plots like those shown in the examples for Step 2.</p><p><strong>Example:</strong></p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">optional_step_2.5_plot_ad_spend(df_ads_step2 = df_ads_step2)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>This code is for illustration purposes only. Individual results may vary.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="step-3--generate-media-variables">Step 3 : Generate Media Variables<a class="hash-link" href="#step-3--generate-media-variables" title="Direct link to heading">​</a></h2><p>After we&#x27;ve simulated spend on each channel and campaign, we now use those spend amounts to simulate how much activity is on each channel+campaign combo. Activity is represented by impressions and clicks. These will be the independent variables in your MMMs.</p><p>Essentially, we&#x27;re going to take &quot;true&quot; CPMs and CPCs that you enter and then inject some statistical noise to these inputs and calculate the resulting impressions and clicks based on the spend data we simulated in step 2.</p><p><strong>Example:</strong></p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">df_ads_step3 &lt;- step_3_generate_media(</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  my_variables = my_variables,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  df_ads_step2 = df_ads_step2,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  true_cpm = c(2, 20, NA),</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  true_cpc = c(NA, NA, 0.25),</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  mean_noisy_cpm_cpc = c(1, 0.05, 0.01),</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  std_noisy_cpm_cpc = c(0.01, 0.15, 0.01)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><strong>Note:</strong> Add in &#x27;NA&#x27; for the channels that do not use CPM or CPC. In this example, there are 3 channels: Facebook; TV; Search. Facebook and TV use impressions and so I&#x27;ve specified their true CPMs. Search does not use impressions so I left the third CPM as NA. I did the same analog for CPC (which is only applicable for Search).</p><p>This code is for illustration purposes only. Individual results may vary.</p><p><strong>Parameters Required in Function:</strong></p><table><thead><tr><th>Parameter</th><th>Description</th><th>Default value if none provided</th></tr></thead><tbody><tr><td>my_variables</td><td>A list that was created after running step 0. It stores the inputs you&#x27;ve specified.</td><td>my_variables</td></tr><tr><td>df_ads_step2</td><td>A data frame that was created after running step 2.</td><td>df_ads_step2</td></tr><tr><td>true_cpm</td><td>A vector of numbers specifying the true Cost per Impression (CPM) of each channel (noise will be added to this to simulate number of impressions), length MUST equal to the number of TOTAL channels, if channels do not use impressions to measure activity, then put in NA for the channel, must be in same order as channels specified</td><td>No default provided.</td></tr><tr><td>true_cpc</td><td>A vector of numbers specifying the true Cost per Click (CPC) of each channel (noise will be added to this to simulate number of clicks), length MUST equal to the number of TOTAL channels, if channels do not use clicks to measure activity, then put in NA for the channel, must be in same order as channels specified</td><td>No default provided.</td></tr><tr><td>mean_noisy_cpm_cpc</td><td>A vector of numbers with mean of normal distribution that generates noise to CPM or CPC, vector with length equal to number of channels, must be in same order as channels specified (put channels that use impressions first, followed by channels that use clicks)</td><td>No default provided.</td></tr><tr><td>std_noisy_cpm_cpc</td><td>A vector of numbers with standard deviation of normal distribution that generates noise to CPM or CPC, vector with length equal to number of channels, must be in same order as channels specified (put channels that use impressions first, followed by channels that use clicks)</td><td>No default provided.</td></tr></tbody></table><p><strong>Tips on Picking Parameters:</strong></p><ul><li><em>How do you pick <code>true_cpm</code> and <code>true_cpc</code>?</em> We recommend you use historical data as a starting point. Figure out the average CPMs and CPCs on campaigns that you&#x27;ve run in the past. You can also play around with these numbers to see how MMMs react upon changing these numbers.</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="step-4--generate-noisy-cvrs">Step 4 : Generate Noisy CVRs<a class="hash-link" href="#step-4--generate-noisy-cvrs" title="Direct link to heading">​</a></h2><p>Now we generate noise around CVRs that we input for each channel. You&#x27;ve already entered true CVRs in step 0, we are just adding noise to that.</p><p><strong>Example:</strong></p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">df_ads_step4 &lt;- step_4_generate_cvr(</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  my_variables = my_variables,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  df_ads_step3 = df_ads_step3,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  mean_noisy_cvr = c(0, 0.0001, 0.0002), </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  std_noisy_cvr = c(0.001, 0.002, 0.003)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  )</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>This code is for illustration purposes only. Individual results may vary.</p><p><strong>Parameters Required in Function:</strong></p><table><thead><tr><th>Parameter</th><th>Description</th><th>Default value if none provided</th></tr></thead><tbody><tr><td>my_variables</td><td>A list that was created after running step 0. It stores the inputs you&#x27;ve specified.</td><td>my_variables</td></tr><tr><td>df_ads_step3</td><td>A data frame that was created after running step 3.</td><td>df_ads_step3</td></tr><tr><td>mean_noisy_cvr</td><td>A vector of numbers specifying the mean of the normal distribution used to add noise to conversion rates (CVR) of each channel, vector must be in the same order as channels specified (first channels that use impressions as a metric of activity, then channels that use clicks), must have length equal to number of total channels</td><td>No default provided.</td></tr><tr><td>std_noisy_cvr</td><td>A vector of numbers specifying the standard deviation of the normal distribution used to add noise to conversion rates (CVR) of each channel, vector must be in the same order as channels specified (first channels that use impressions as a metric of activity, then channels that use clicks), must have length equal to number of total channels</td><td>No default provided.</td></tr></tbody></table><h2 class="anchor anchorWithStickyNavbar_LWe7" id="step-5--transforming-media-variables">Step 5 : Transforming Media Variables<a class="hash-link" href="#step-5--transforming-media-variables" title="Direct link to heading">​</a></h2><p>Steps 5a-5c are all about transforming the media variable by adding adstock, diminishing returns, and pivoting our simulated data to be in a daily format.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="step-5a--pivoting-the-table-to-an-mmm-format">Step 5a : Pivoting the table to an MMM format<a class="hash-link" href="#step-5a--pivoting-the-table-to-an-mmm-format" title="Direct link to heading">​</a></h3><p>In Step 5a, we pivot our table from Step 4 (which was on a campaign + channel format) to a daily format. This function requires no parameters.</p><p><strong>Example:</strong></p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">df_ads_step5a_before_mmm &lt;- step_5a_pivot_to_mmm_format(</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                    my_variables = my_variables,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                    df_ads_step4 = df_ads_step4</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                    )</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>This code is for illustration purposes only. Individual results may vary.</p><p><strong>Parameters Required in Function:</strong></p><table><thead><tr><th>Parameter</th><th>Description</th><th>Default value if none provided</th></tr></thead><tbody><tr><td>my_variables</td><td>A list that was created after running step 0. It stores the inputs you&#x27;ve specified.</td><td>my_variables</td></tr><tr><td>df_ads_step4</td><td>A data frame that was created after running step 4.</td><td>df_ads_step4</td></tr></tbody></table><h3 class="anchor anchorWithStickyNavbar_LWe7" id="step-5b--apply-adstock">Step 5b : Apply Adstock<a class="hash-link" href="#step-5b--apply-adstock" title="Direct link to heading">​</a></h3><p>Now we will apply adstock using a geometric distribution. This step captures the carryover effects of marketing campaigns. For example, you may run a campaign this week, but not all consumers may purchase your product this week. Some users may see your ad and then purchase products later on.</p><p>SiMMMulator currently has the geometric distribution as a functionality. This has been traditionally used and is a simplistic way of applying adstock. The Weibull survival function is also used by some practitioners because of its flexibility. However, siMMMulator does not currently have this function built in. Those who wish to use the Weibull survival function can modify the open source code.</p><p>For more information on adstock, see Robyn&#x27;s page on <a href="https://facebookexperimental.github.io/Robyn/docs/features" target="_blank" rel="noopener noreferrer">Features, under the section, Variable Transformations</a>.</p><p><strong>Example:</strong></p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">df_ads_step5b &lt;- step_5b_decay(</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  my_variables = my_variables,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  df_ads_step5a_before_mmm = df_ads_step5a_before_mmm,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  true_lambda_decay = c(0.1, 0.2, 0.3)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>This code is for illustration purposes only. Individual results may vary.</p><p><strong>Parameters Required in Function:</strong></p><table><thead><tr><th>Parameter</th><th>Description</th><th>Default value if none provided</th></tr></thead><tbody><tr><td>my_variables</td><td>A list that was created after running step 0. It stores the inputs you&#x27;ve specified.</td><td>my_variables</td></tr><tr><td>df_ads_step5a_before_mmm</td><td>A data frame that was created after running step 5a.</td><td>df_ads_step5a_before_mmm</td></tr><tr><td>true_lambda_decay</td><td>A vector of numbers between 0 and 1 specifying the lambda parameters for a geometric distribution for adstocking media variables. Vector must be in same order that channels are specified (channels using impressions as a metric followed by channels using click as metric of activity), must have same length as total number of channels</td><td>No default provided.</td></tr></tbody></table><h3 class="anchor anchorWithStickyNavbar_LWe7" id="step-5c-applying-diminishing-returns-to-media-variables">Step 5c: Applying Diminishing Returns to Media Variables<a class="hash-link" href="#step-5c-applying-diminishing-returns-to-media-variables" title="Direct link to heading">​</a></h3><p>This step applies diminishing returns to media variables follows the theory that there are diminishing returns between impressions/clicks of an ad and conversions on the ad. There is not necessarily a linear relationship and each incremental impression does not yield the same conversion rate.</p><p>In this function, we apply the S-curve to our adstocked impressions.</p><p>For more information on adstock, see Robyn&#x27;s page on <a href="https://facebookexperimental.github.io/Robyn/docs/features" target="_blank" rel="noopener noreferrer">Features, under the section, Variable Transformations</a>.</p><p><strong>Example:</strong></p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">df_ads_step5c &lt;- step_5c_diminishing_returns(</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  my_variables = my_variables,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  df_ads_step5b = df_ads_step5b,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  alpha_saturation = c(2, 2, 2),</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  gamma_saturation = c(0.1, 0.2, 0.3)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>This code is for illustration purposes only. Individual results may vary.</p><p>Here is a graph of the data associated with these inputs.</p><p><img loading="lazy" alt="Example 1 of Applying Transformation to Media Variables" src="/siMMMulator/assets/images/step5_ex1-d226e1832d043152a58ff931f985cdf6.png" width="840" height="840" class="img_ev3q">
This graph is for illustration purposes only. Individual results may vary.</p><p>The various lines represent:</p><ul><li>Red line = Raw impressions (no transformations applied)</li><li>Blue line = Impressions with geometric adstock applied</li><li>Green line = Impressions with geometric adstock and diminishing returns applied</li></ul><p><strong>Parameters Required in Function:</strong></p><table><thead><tr><th>Parameter</th><th>Description</th><th>Default value if none provided</th></tr></thead><tbody><tr><td>my_variables</td><td>A list that was created after running step 0. It stores the inputs you&#x27;ve specified.</td><td>my_variables</td></tr><tr><td>df_ads_step5b</td><td>A data frame that was created after running step 5b.</td><td>df_ads_step5b</td></tr><tr><td>alpha_saturation</td><td>A vector of numbers specifying alpha parameter of geometric distribution for applying diminishing returns to media variables. Should be in the same order as how the media channels were specified (first with the channels that use impressions as a metric of activity and then channels that use clicks), must have same length as number of total channels</td><td>No default provided.</td></tr><tr><td>gamma_saturation</td><td>A vector of numbers between 0 and 1 specifying a gamma parameter of geometric distribution for applying diminishing returns to media variables. MUST have elements between 0 and 1!!!! Should be in the same order as how the media channels were specified (first with the channels that use impressions as a metric of activity and then channels that use clicks), must have the same length as number the of total channels.</td><td>df_ads_step5b</td></tr><tr><td>x_marginal</td><td>Numeric. When provided, the function returns the Hill-transformed value of the x_marginal input. Default is to leave NULL</td><td>NULL</td></tr></tbody></table><p><strong>NOTE:</strong> If you leave the parameter <code>x_marginal</code> as NULL (the default), you may get some warning messages. These warning messages are not harmful. </p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="step-6--calculating-conversions">Step 6 : Calculating Conversions<a class="hash-link" href="#step-6--calculating-conversions" title="Direct link to heading">​</a></h2><p>We calculate the number of conversions that occur each week and on each channel using the outputs from previous steps.</p><p><strong>Example:</strong></p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">df_ads_step6 &lt;- step_6_calculating_conversions(</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  my_variables = my_variables,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  df_ads_step5c = df_ads_step5c</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>This code is for illustration purposes only. Individual results may vary.</p><p><strong>Parameters Required in Function:</strong></p><table><thead><tr><th>Parameter</th><th>Description</th><th>Default value if none provided</th></tr></thead><tbody><tr><td>my_variables</td><td>A list that was created after running step 0. It stores the inputs you&#x27;ve specified.</td><td>my_variables</td></tr><tr><td>df_ads_step5c</td><td>A data frame that was created after running step 5c.</td><td>df_ads_step5c</td></tr></tbody></table><h2 class="anchor anchorWithStickyNavbar_LWe7" id="step-7--expanded-data-frame">Step 7 : Expanded Data Frame<a class="hash-link" href="#step-7--expanded-data-frame" title="Direct link to heading">​</a></h2><p>We do final calculations for all the variables that we need for the final data frame.</p><p><strong>Example:</strong></p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">df_ads_step7 &lt;- step_7_expanded_df(</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  my_variables = my_variables,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  df_ads_step6 = df_ads_step6,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  df_baseline = df_baseline</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>This code is for illustration purposes only. Individual results may vary.</p><p><strong>Parameters Required in Function:</strong></p><table><thead><tr><th>Parameter</th><th>Description</th><th>Default value if none provided</th></tr></thead><tbody><tr><td>my_variables</td><td>A list that was created after running step 0. It stores the inputs you&#x27;ve specified.</td><td>my_variables</td></tr><tr><td>df_ads_step6</td><td>A data frame that was created after running step 6.</td><td>df_ads_step6</td></tr><tr><td>df_baseline</td><td>A data frame that was created after running step 1.</td><td>df_baseline</td></tr></tbody></table><h2 class="anchor anchorWithStickyNavbar_LWe7" id="step-8--calculating-roi">Step 8 : Calculating ROI<a class="hash-link" href="#step-8--calculating-roi" title="Direct link to heading">​</a></h2><p>We now calculate ROIs of each channel. These are the &#x27;true ROIs&#x27; that we generated the data set with. We can use these to compare against the ROIs predicted from our MMM and see how close our MMM comes to these true ROIs.</p><p><strong>Example:</strong></p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">step_8_calculate_roi(</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  my_variables = my_variables,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  df_ads_step7 = df_ads_step7</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  )</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>This code is for illustration purposes only. Individual results may vary.</p><p><strong>Parameters Required in Function:</strong></p><table><thead><tr><th>Parameter</th><th>Description</th><th>Default value if none provided</th></tr></thead><tbody><tr><td>my_variables</td><td>A list that was created after running step 0. It stores the inputs you&#x27;ve specified.</td><td>my_variables</td></tr><tr><td>df_ads_step7</td><td>A data frame that was created after running step 7.</td><td>df_ads_step7</td></tr></tbody></table><h2 class="anchor anchorWithStickyNavbar_LWe7" id="step-9--get-final-data-frame">Step 9 : Get Final Data Frame<a class="hash-link" href="#step-9--get-final-data-frame" title="Direct link to heading">​</a></h2><p>Now we create the final data framse. We will keep only the necessary variables for final data frames and format. This function will output a list with two data frames. The first data frame is at the daily level; the second data frame is at a weekly level. They are built on the same assumptions. The weekly data frame is just the daily frame aggregated up. </p><p><strong>Example:</strong></p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">list_of_df_final &lt;- step_9_final_df(</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  my_variables = my_variables,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  df_ads_step7 = df_ads_step7</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>To extract the daily data frame: </p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">daily_df &lt;- list_of_df_final[[1]]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>To extract the weekly data frame: </p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">weekly_df &lt;- list_of_df_final[[2]]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>This code is for illustration purposes only. Individual results may vary.</p><p>Here are a few example graphs of the data sets that you could get depending on your inputs.</p><p><img loading="lazy" alt="Example 1 of Final Data Set" src="/siMMMulator/assets/images/step9_ex1-23da85dd8ad51510bfba1491f3f6ed3d.png" width="840" height="840" class="img_ev3q">
This graph is for illustration purposes only. Individual results may vary.</p><p><img loading="lazy" alt="Example 2 of Final Data Set" src="/siMMMulator/assets/images/step9_ex2-d75cd4b9f279d91443074ceb24c7075c.png" width="840" height="840" class="img_ev3q">
This graph is for illustration purposes only. Individual results may vary.</p><p>Of course, the possibilities are endless and it all depends on what inputs you use!</p><p><strong>Parameters Required in Function:</strong></p><table><thead><tr><th>Parameter</th><th>Description</th><th>Default value if none provided</th></tr></thead><tbody><tr><td>my_variables</td><td>A list that was created after running step 0. It stores the inputs you&#x27;ve specified.</td><td>my_variables</td></tr><tr><td>df_ads_step7</td><td>A data frame that was created after running step 7.</td><td>df_ads_step7</td></tr></tbody></table><h3 class="anchor anchorWithStickyNavbar_LWe7" id="optional-step-95--plot-graph-of-final-data">(Optional) Step 9.5 : Plot Graph of Final Data<a class="hash-link" href="#optional-step-95--plot-graph-of-final-data" title="Direct link to heading">​</a></h3><p>Plots final data. You may get plots like those shown in the examples for Step 9.</p><p><strong>Example:</strong></p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">optional_step_9.5_plot_final_df(df_final = list_of_df_final[[1]]) # for daily data</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">optional_step_9.5_plot_final_df(df_final = list_of_df_final[[2]]) # for weekly data</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>This code is for illustration purposes only. Individual results may vary.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/facebookexperimental/siMMMulator/tree/gh-pages/docs/step_by_step_guide.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/siMMMulator/docs/set_up"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Setting Up siMMMulator</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/siMMMulator/docs/demo_code"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Demo Code</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#step-0--define-basic-parameters" class="table-of-contents__link toc-highlight">Step 0 : Define Basic Parameters</a></li><li><a href="#step-1--simulate-daily-baseline-sales" class="table-of-contents__link toc-highlight">Step 1 : Simulate Daily Baseline Sales</a><ul><li><a href="#optional-step-15--plot-graph-of-baseline-sales" class="table-of-contents__link toc-highlight">(Optional) Step 1.5 : Plot Graph of Baseline Sales</a></li></ul></li><li><a href="#step-2--generate-ad-spend" class="table-of-contents__link toc-highlight">Step 2 : Generate Ad Spend</a><ul><li><a href="#optional-step-25--plot-graph-of-ad-spend" class="table-of-contents__link toc-highlight">(Optional) Step 2.5 : Plot Graph of Ad Spend</a></li></ul></li><li><a href="#step-3--generate-media-variables" class="table-of-contents__link toc-highlight">Step 3 : Generate Media Variables</a></li><li><a href="#step-4--generate-noisy-cvrs" class="table-of-contents__link toc-highlight">Step 4 : Generate Noisy CVRs</a></li><li><a href="#step-5--transforming-media-variables" class="table-of-contents__link toc-highlight">Step 5 : Transforming Media Variables</a><ul><li><a href="#step-5a--pivoting-the-table-to-an-mmm-format" class="table-of-contents__link toc-highlight">Step 5a : Pivoting the table to an MMM format</a></li><li><a href="#step-5b--apply-adstock" class="table-of-contents__link toc-highlight">Step 5b : Apply Adstock</a></li><li><a href="#step-5c-applying-diminishing-returns-to-media-variables" class="table-of-contents__link toc-highlight">Step 5c: Applying Diminishing Returns to Media Variables</a></li></ul></li><li><a href="#step-6--calculating-conversions" class="table-of-contents__link toc-highlight">Step 6 : Calculating Conversions</a></li><li><a href="#step-7--expanded-data-frame" class="table-of-contents__link toc-highlight">Step 7 : Expanded Data Frame</a></li><li><a href="#step-8--calculating-roi" class="table-of-contents__link toc-highlight">Step 8 : Calculating ROI</a></li><li><a href="#step-9--get-final-data-frame" class="table-of-contents__link toc-highlight">Step 9 : Get Final Data Frame</a><ul><li><a href="#optional-step-95--plot-graph-of-final-data" class="table-of-contents__link toc-highlight">(Optional) Step 9.5 : Plot Graph of Final Data</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Learn</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/siMMMulator/docs/about_simmmulator">About siMMMulator</a></li><li class="footer__item"><a class="footer__link-item" href="/siMMMulator/docs/set_up">Setting Up siMMMulator</a></li><li class="footer__item"><a class="footer__link-item" href="/siMMMulator/docs/step_by_step_guide">Step-by-Step Guide</a></li><li class="footer__item"><a class="footer__link-item" href="/siMMMulator/docs/demo_code">Demo Code</a></li><li class="footer__item"><a class="footer__link-item" href="/siMMMulator/docs/FAQ and Support">FAQ and support</a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/facebookexperimental/siMMMulator" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.facebook.com/groups/1709945532706010/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Facebook Group<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Legal</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://opensource.fb.com/legal/privacy/" target="_blank" rel="noreferrer noopener" class="footer__link-item">Privacy<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://opensource.fb.com/legal/terms/" target="_blank" rel="noreferrer noopener" class="footer__link-item">Terms<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://opensource.facebook.com/legal/data-policy/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Data Policy<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://opensource.facebook.com/legal/cookie-policy/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Cookie Policy<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><a href="https://opensource.facebook.com" rel="noopener noreferrer" class="footerLogoLink_BH7S"><img src="/siMMMulator/img/meta_opensource_logo_negative.svg" alt="Meta Open Source Logo" class="themedImage_ToTc themedImage--light_HNdA footer__logo"><img src="/siMMMulator/img/meta_opensource_logo_negative.svg" alt="Meta Open Source Logo" class="themedImage_ToTc themedImage--dark_i4oU footer__logo"></a></div><div class="footer__copyright">Copyright © 2023 Meta Platforms, Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/siMMMulator/assets/js/runtime~main.b831d095.js"></script>
<script src="/siMMMulator/assets/js/main.2a3aab12.js"></script>
</body>
</html>